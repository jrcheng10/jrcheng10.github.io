---
title: "Flexdashboard"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    navbar:
      - {title: "Home", href: https://jrcheng10.github.io/, align: left}
      - {title: "About", href: about.html, align: right }
      - {icon: fa-envelope, href: mailto:<cheng.john.r@gmail.com>, align: right }
      - {icon: fa-github, href: https://github.com/jrcheng10/, align: right }
      - {icon: fa-linkedin, href: https://www.linkedin.com/in/john-c-843a2a37/, align: right }

---

```{r setup, include=FALSE}
library(tidyverse)
library(p8105.datasets)
library(flexdashboard)
library(plotly)
library(ggridges)
```

```{r import}
data("instacart")
# data("rest_inspec")
```

Column {data-width=600}
-----------------------------------------------------------------------

### Most Popular Tea Brands Ordered on Instacart

```{r barplot}
instacart %>%
  filter(aisle == "tea") %>%
  group_by(product_name) %>%
  summarise(count = n()) %>%
  arrange(desc(count)) %>%
  head(15) %>%
  mutate(product_name = fct_reorder(product_name, count, .desc = TRUE)) %>% 
  plot_ly(x = ~product_name, y = ~count, color = ~product_name, type = "bar", colors = "viridis") %>% 
  layout(xaxis = list(tickangle = 315, title = "Tea Brand"),
         yaxis = list(title = "Order Count"))

```

Column {data-width=400}
-----------------------------------------------------------------------

### Purchase Times for Top Alcoholic Drinks Ordered on Instacart

```{r ridgeplot}
alcohol = instacart %>%
  filter(department == "alcohol") %>%
  group_by(product_name) %>%
  summarise(count = n()) %>%
  arrange(desc(count)) %>%
  head(5)

instacart %>%
  filter(product_name %in% alcohol$product_name) %>%
  group_by(product_name, order_hour_of_day) %>%
  summarise(count = n()) %>%
  ggplot(aes(x = order_hour_of_day, y = fct_reorder(product_name, order_hour_of_day, .desc = TRUE), fill = product_name)) +
  geom_density_ridges(alpha = .4) + 
  scale_x_continuous(
    breaks = c(3, 6, 9, 12, 15, 18, 21),
    labels = c("3am", "6am", "9am", "12pm", "3pm", "6pm", "9pm"),
    limits = c(0, 23)
) +
  labs(
    x = "Time of Day",
    y = "Alcoholic Drink"
  ) +
  viridis::scale_fill_viridis(discrete = TRUE)
```

### Chart C

```{r geom_line}
# momofuku scores over time


```